<!DOCTYPE html>
<html>

<head>
  
<link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.2.3/css/bulma.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css">



<link rel="stylesheet" href="http://blog.titangroupco.com/css/self.css">

</head>

<body>
  <div class="container">
    <header>
  <a href="/" class="whatsup">a poem of life</a>  
</header>


    <div class="posts">
      <div class="post">
        <h1 class="post-title">Javascript Prototype</h1>
        <span class="post-date">Jan 5, 2017 </span>
        <div class="post-content">
          

<p><em>note of <a href="https://github.com/getify/You-Dont-Know-JS/tree/master/this%20%26%20object%20prototypes">You Don&rsquo;t know JS</a></em></p>

<h2 id="data-types-in-javascript">Data types in Javascript</h2>

<pre><code class="language-javascript">// Javascript has 6 primitive data(immutable) types
typeof 3.14  // 'number';
typeof 'bla'  // 'string';
typeof true  // 'boolean'
typeof Symbol.iterator  // 'symbol'
typeof undefined  // 'undefined'
typeof null  // 'object'

// and object
typeof {a:1}  // 'object'
typeof function fn(){}  // 'function', it's in fact an object with special type tag


// object has sub type
Object.prototype.toString.call(fn)  // '[object Function]'

// primitive types have object equivalent that wrap around them.
Object.prototype.toString.call(3.14)  // '[object Number]'
Object.prototype.toString.call('bla')  // '[object String]'
Object.prototype.toString.call(true)  // '[object Boolean]'
Object.prototype.toString.call(Symbol.iterator)  // '[object Symbol]'

Object.prototype.toString.call({})  // '[object Object]'
Object.prototype.toString.call([])  // '[object Array]'
Object.prototype.toString.call(/[a-zA-Z]+/)  // '[object RegExp]'

</code></pre>

<p><code>null</code> is not an object for it has no any property.</p>

<p>for why <code>typeof null === 'object'</code> see details <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof#null">here</a></p>

<h2 id="object-property">Object property</h2>

<pre><code class="language-javascript">var myObject = {
    a: 2
};

// `in` operator will check upwards the whole prototype chain
('a' in myObject) // true
('toString' in myObject) // true
// `hasOwnProperty` function check only `this` object
(myObject.hasOwnProperty('toString'))  // false

// property has characteristics decribed by sth called `descriptor`
Object.getOwnPropertyDescriptor( myObject, &quot;a&quot; );
// {
//    value: 2,
//    writable: true,
//    enumerable: true,
//    configurable: true
// }

// another way to define property
Object.defineProperty( myObject, &quot;a&quot;, {
    value: 2,
    writable: true,
    configurable: true,
    enumerable: true
} );

// prevent an object from having new properties added to it
Object.preventExtensions( myObject );

Object.seal(..) 
// Object.preventExtensions(..) + marks all its existing properties as configurable:false.

Object.freeze(..)
// Object.seal(..) + marks all &quot;data accessor&quot; properties as writable:false

// descriptor includes data descriptor and accessor descriptor
Object.defineProperty(
    myObject,   // target
    &quot;b&quot;,        // property name
    {           // descriptor
        // define a getter for `b`
        get: function(){ return this.a * 2 },

        // make sure `b` shows up as an object property
        enumerable: true
    }
);

myObject.b;  // 4
</code></pre>

<h2 id="what-is-this">What is <code>this</code>?</h2>

<pre><code class="language-javascript">function dcyy() {
  console.log(this.name, '到此一游 :(');
}
var name = 'global';
var zs = {
  name: '张三',
  dcyy
}
var ls = {
  name: '李四'
}

dcyy();  // global 到此一游 :(
zs.dcyy();  // '张三 到此一游 :(
dcyy.call(ls);  // 李四 到此一游 :(
new dcyy();
// undefined '到此一游 :('
// dcyy {}
</code></pre>

<p><code>this</code> is not an author-time binding but a runtime binding.</p>

<ol>
<li><p>Called with new? Use the newly constructed object.</p></li>

<li><p>Called with <code>call</code> or <code>apply</code> (or <code>bind</code>)? Use the specified object.</p></li>

<li><p>Called with a context object owning the call? Use that context object.</p></li>

<li><p>Default: undefined in strict mode, global object otherwise.</p></li>
</ol>

<h2 id="prototype-chain">Prototype Chain</h2>

<pre><code class="language-javascript">function Foo() {
    // ...
}

var a = new Foo();

Object.getPrototypeOf( a ) === Foo.prototype; // true

a.__proto__ === Foo.prototype;  // true

Foo.prototype.isPrototypeOf(a);  // true

var p = {
    sayHi: function () {
        console.log('hi!');
    }
}
var c = Object.create(p);
c.sayHi();  // 'hi!'

</code></pre>

<p>So, when u create an object use <code>new</code> operator and a function say <em>fn</em>, the prototype of this created object is <code>fn.prototype</code></p>

<p><code>You Dont Know JS</code> advocates prototype pattern which is the foundation of JS, objects OO simulation.</p>

        </div>
      </div>
      <div class="pagination">
        <a class="btn previous " href="http://blog.titangroupco.com/post/mongo-introduction/"> Prev</a>  
        <a class="btn next " href="http://blog.titangroupco.com/post/vue-introduction/"> Next</a> 
      </div>
    </div>

    <footer>
  <a href="/post">Archive</a>
</footer>

  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>
